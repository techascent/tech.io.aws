<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>tech.v3.io.s3 documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">tech.io.aws</span> <span class="project-version">4.08-2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tech</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>v3</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-4 branch"><a href="tech.v3.io.aws-presigned.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aws-presigned</span></div></a></li><li class="depth-4 current"><a href="tech.v3.io.s3.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>s3</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="tech.v3.io.s3.html#var-byte-array-to-md5"><div class="inner"><span>byte-array-to-md5</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-create-default-s3-provider"><div class="inner"><span>create-default-s3-provider</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-default-s3-provider*"><div class="inner"><span>default-s3-provider*</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-delete-object.21"><div class="inner"><span>delete-object!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-empty-file-md5"><div class="inner"><span>empty-file-md5</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-get-content-type"><div class="inner"><span>get-content-type</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-get-object"><div class="inner"><span>get-object</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-get-object-metadata"><div class="inner"><span>get-object-metadata</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-lazy-object-list-seq"><div class="inner"><span>lazy-object-list-seq</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-list-objects"><div class="inner"><span>list-objects</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-list-some-objects"><div class="inner"><span>list-some-objects</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-put-object.21"><div class="inner"><span>put-object!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-s3-bucket-and-key-.3Ehttps-url"><div class="inner"><span>s3-bucket-and-key-&gt;https-url</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-s3-bucket-key-.3Eurl"><div class="inner"><span>s3-bucket-key-&gt;url</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-s3-provider"><div class="inner"><span>s3-provider</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-s3-url-.3Ehttps-url"><div class="inner"><span>s3-url-&gt;https-url</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-url-parts-.3Ebucket"><div class="inner"><span>url-parts-&gt;bucket</span></div></a></li><li class="depth-1"><a href="tech.v3.io.s3.html#var-url-parts-.3Ekey"><div class="inner"><span>url-parts-&gt;key</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">tech.v3.io.s3</h1><div class="doc"><div class="markdown"><p>Access to s3 resources via the io provider abstraction</p>
</div></div><div class="public anchor" id="var-byte-array-to-md5"><h3>byte-array-to-md5</h3><div class="usage"><code>(byte-array-to-md5 byte-data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L67">view source</a></div></div><div class="public anchor" id="var-create-default-s3-provider"><h3>create-default-s3-provider</h3><div class="usage"><code>(create-default-s3-provider)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L314">view source</a></div></div><div class="public anchor" id="var-default-s3-provider*"><h3>default-s3-provider*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L329">view source</a></div></div><div class="public anchor" id="var-delete-object.21"><h3>delete-object!</h3><div class="usage"><code>(delete-object! bucket k options)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L122">view source</a></div></div><div class="public anchor" id="var-empty-file-md5"><h3>empty-file-md5</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L65">view source</a></div></div><div class="public anchor" id="var-get-content-type"><h3>get-content-type</h3><div class="usage"><code>(get-content-type fname)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L56">view source</a></div></div><div class="public anchor" id="var-get-object"><h3>get-object</h3><div class="usage"><code>(get-object bucket k options)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L48">view source</a></div></div><div class="public anchor" id="var-get-object-metadata"><h3>get-object-metadata</h3><div class="usage"><code>(get-object-metadata bucket key options)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L172">view source</a></div></div><div class="public anchor" id="var-lazy-object-list-seq"><h3>lazy-object-list-seq</h3><div class="usage"><code>(lazy-object-list-seq bucket prefix options)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L145">view source</a></div></div><div class="public anchor" id="var-list-objects"><h3>list-objects</h3><div class="usage"><code>(list-objects bucket prefix {:keys [:tech.v3.io.s3/delimiter], :or {delimiter "/"}, :as options})</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L156">view source</a></div></div><div class="public anchor" id="var-list-some-objects"><h3>list-some-objects</h3><div class="usage"><code>(list-some-objects bucket prefix {:keys [:tech.v3.io.s3/marker :tech.v3.io.s3/delimiter], :or {delimiter "/"}, :as options})</code></div><div class="doc"><div class="markdown"><p>List objects given a bucket and prefix</p>
</div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L129">view source</a></div></div><div class="public anchor" id="var-put-object.21"><h3>put-object!</h3><div class="usage"><code>(put-object! bucket k v {:keys [:tech.v3.io.s3/metadata :tech.v3.io.s3/verify-md5?], :or {metadata {}}, :as options})</code></div><div class="doc"><div class="markdown"><p>Lots of smarts around put-object to ensure the entire object is written correctly
or the write fails.  We check md5 hash if possible and we attempt to set the content
type in order to ensure that if, for instance, you write a jpeg to an open bucket
that jpeg is accessible via the browser using a normal https request.</p>
</div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L78">view source</a></div></div><div class="public anchor" id="var-s3-bucket-and-key-.3Ehttps-url"><h3>s3-bucket-and-key-&gt;https-url</h3><div class="usage"><code>(s3-bucket-and-key-&gt;https-url s3-bucket s3-key &amp; {:keys [:tech.v3.io.s3/endpoint], :or {endpoint "us-west-2"}, :as options})</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L295">view source</a></div></div><div class="public anchor" id="var-s3-bucket-key-.3Eurl"><h3>s3-bucket-key-&gt;url</h3><div class="usage"><code>(s3-bucket-key-&gt;url bucket key)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L290">view source</a></div></div><div class="public anchor" id="var-s3-provider"><h3>s3-provider</h3><div class="usage"><code>(s3-provider default-options)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L285">view source</a></div></div><div class="public anchor" id="var-s3-url-.3Ehttps-url"><h3>s3-url-&gt;https-url</h3><div class="usage"><code>(s3-url-&gt;https-url s3-url &amp; {:keys [:tech.v3.io.s3/endpoint], :or {endpoint "us-west-2"}, :as options})</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L302">view source</a></div></div><div class="public anchor" id="var-url-parts-.3Ebucket"><h3>url-parts-&gt;bucket</h3><div class="usage"><code>(url-parts-&gt;bucket {:keys [path]})</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L180">view source</a></div></div><div class="public anchor" id="var-url-parts-.3Ekey"><h3>url-parts-&gt;key</h3><div class="usage"><code>(url-parts-&gt;key {:keys [path]})</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io.aws/blob/master/src/tech/v3/io/s3.clj#L185">view source</a></div></div></div></body></html>